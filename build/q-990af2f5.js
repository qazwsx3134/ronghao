import{z as u,m as p,u as d,M as w}from"./q-3e17a5c2.js";import{v as h,w as y}from"./q-80e2adda.js";const b=async function(...c){var s;const[o]=u();{const a=p(),i=c.map(t=>t instanceof SubmitEvent&&t.target instanceof HTMLFormElement?new FormData(t.target):t instanceof Event||t instanceof Node?null:t),m=o.getHash(),f=`?qfunc=${o.getHash()}`,l=await d([o,...i]),e=await fetch(f,{method:"POST",headers:{"Content-Type":"application/qwik-json","X-QRL":m},body:l}),r=e.headers.get("Content-Type");if(e.ok&&r==="text/event-stream"){const{writable:t,readable:n}=h();return(s=e.body)==null||s.pipeTo(t),y(n,a??document.documentElement)}else if(r==="application/qwik-json"){const t=await e.text(),n=await w(t,a??document.documentElement);if(e.status===500)throw n;return n}}};export{b as s_wOIPfiQ04l4};
